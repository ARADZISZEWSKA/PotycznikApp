<ion-content [fullscreen]="true">
  <div class="flex-center">
    <ion-card shape="round">
      <ion-card-header>
        <div class="login-header">
          <div class="welcome-message">
            <ion-card-title class="ion-padding-top">
              Siema Potyczkowiczu!
            </ion-card-title>
            <ion-text class="ion-padding-small" color="">
              Gotowy?
            </ion-text>
          </div>
        </div>
      </ion-card-header>

      <ion-card-content>
        <ion-item>
          <ion-input type="email" label="Email" labelPlacement="floating" placeholder=""></ion-input>
        </ion-item>
        <ion-item>
          <ion-input type="password" label="Hasło" labelPlacement="floating" placeholder=""></ion-input>
        </ion-item>
      </ion-card-content>

      <ion-button 
        class="recovery-button" 
        size="small" 
        fill="clear" 
        (click)="openRecoveryModal()">
        Odzyskaj hasło
      </ion-button>   

      <ion-card-content>
        <ion-button 
          class="login" 
          expand="block" 
          shape="round" 
          color="tertiary" 
          (click)="onLogin()">
          Zaloguj
        </ion-button>

        <div class="register-container">
          <ion-text class="register-text">Nie masz konta?</ion-text>
          <ion-button 
            class="register" 
            fill="clear" 
            shape="round" 
            color="tertiary" 
            (click)="onRegister()">
            Zarejestruj się
          </ion-button>
        </div>
      </ion-card-content>
    </ion-card>
  </div>


  <!-- Modal Okno -->
  <ion-modal [isOpen]="isModalOpen" (willDismiss)="closeModal()">
    <ng-template>
      <div class="modal-content">
        <h2>Odzyskiwanie hasła</h2>
        <p>Aby odzyskać hasło, wpisz email, na który wyślemy link do odzyskania hasła.</p>
        <form [formGroup]="recoveryForm" (ngSubmit)="onRecoverySubmit()">
          <ion-item>
            <ion-input 
              type="email" 
              placeholder="Twój email" 
              formControlName="email"
              [ngClass]="{'invalid': recoveryForm.get('email')?.invalid && recoveryForm.get('email')?.touched}">
            </ion-input>
          </ion-item>
          <div class="buttons">
            <ion-button fill="outline" color="danger" (click)="closeModal()">Anuluj</ion-button>
            <ion-button type="submit" [disabled]="recoveryForm.invalid">Wyślij</ion-button>
          </div>
        </form>
      </div>
    </ng-template>
  </ion-modal>

</ion-content>
